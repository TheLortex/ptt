(library
 (name lwt_backend)
 (modules lwt_backend)
 (libraries lwt ptt))

(executable
 (name mti_pf)
 (modules mti_pf)
 (libraries mrmime
            tcpip.stack-socket
            tuyau.mirage.tcp
            logs.fmt
            colombe.received
            fpath bos rresult
            mirage-clock-unix
            dns-client.mirage
            nocrypto.lwt
            lwt_backend))

(executable
 (name hmf)
 (modules hmf)
 (libraries mrmime
            tcpip.stack-socket
            tuyau.mirage.tcp tuyau.mirage.tls
            logs.fmt
            colombe.received
            fpath bos rresult
            mirage-clock-unix
            dns-client.mirage
            nocrypto.lwt
            lwt_backend))